{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","services/getPictures.js","components/ImageGallery/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchName","setSearchName","className","s","e","preventDefault","trim","toast","warning","type","value","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","fetchPictures","page","API_KEY","fetch","then","response","ok","json","Promise","reject","Error","catch","err","console","log","ImageGalleryItem","imgUrl","bigImgUrl","src","alt","Button","onClick","Modal","handleModal","code","currentTarget","props","onClose","window","addEventListener","this","removeEventListener","Overlay","children","Component","ImageGallery","pictures","setPictures","setPage","visible","setVisible","bigImg","setBigImg","error","setError","status","setStatus","useEffect","data","hits","length","prevPictures","closeModal","document","body","style","overflow","color","height","width","message","dataset","source","map","id","webformatURL","largeImageURL","prevPage","App","autoClose","theme","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a749ee77.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2kvhd\",\"Modal\":\"Modal_Modal__3LDNJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1BF4U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1FpA0\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__3zoih\",\"ImageGalleryItem-image\":\"ImageGallery_ImageGalleryItem-image__223-B\",\"Button\":\"ImageGallery_Button__36gzt\",\"Loader\":\"ImageGallery_Loader__2H8Qe\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [searchName, setSearchName] = useState('');\r\n\r\n  const handleChange = e => {\r\n    setSearchName(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (searchName.trim() === '') {\r\n      toast.warning('Enter word for search');\r\n      return;\r\n    }\r\n\r\n    onSubmit(searchName);\r\n    setSearchName('');\r\n  };\r\n\r\n  return (\r\n    <header className={s['Searchbar']}>\r\n      <form className={s['SearchForm']} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s['SearchForm-button']}>\r\n          <span className={s['SearchForm-button-label']}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s['SearchForm-input']}\r\n          type=\"text\"\r\n          value={searchName}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  searchName: PropTypes.string,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","function fetchPictures(searchName, page = `1`) {\r\n  const API_KEY = `key=23963114-6d0d5d874ae460d9125bacd21`;\r\n\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${searchName}&page=${page}&image_type=photo&orientation=horizontal&per_page=12&${API_KEY}`,\r\n  )\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(new Error('Something wrong...'));\r\n    })\r\n    .catch(err => console.log(err));\r\n}\r\n\r\nexport default fetchPictures;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGalleryItem = ({ imgUrl, bigImgUrl }) => {\r\n  return (\r\n    <>\r\n      <img\r\n        className={s['ImageGalleryItem-image']}\r\n        src={imgUrl}\r\n        alt=\"\"\r\n        data-source={bigImgUrl}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imgUrl: PropTypes.string,\r\n  bigImgUrl: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button className={s.Button} type=\"button\" onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleModal);\r\n  }\r\n\r\n  handleModal = e => {\r\n    if (e.code === 'Escape' || e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.handleModal}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { useState, useEffect } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport s from './ImageGallery.module.css';\r\nimport fetchPictures from '../../services/getPictures';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport Button from 'components/Button';\r\nimport Modal from 'components/Modal';\r\n// import usePictureApi from 'hooks/usePicturesApi';\r\n\r\nfunction ImageGallery({ searchName }) {\r\n  const [pictures, setPictures] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [visible, setVisible] = useState(false);\r\n  const [bigImg, setBigImg] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState('idle');\r\n  // const { pictures, error, status } = usePictureApi(searchName, page);\r\n\r\n  useEffect(() => {\r\n    if (searchName === '') {\r\n      return;\r\n    }\r\n\r\n    setStatus('pending');\r\n\r\n    fetchPictures(searchName, page)\r\n      .then(data => {\r\n        if (data.hits.length > 0) {\r\n          setPictures(prevPictures => [...prevPictures, ...data.hits]);\r\n          setStatus('resolved');\r\n        } else {\r\n          setStatus('idle');\r\n          toast.error('Enter correct querry');\r\n        }\r\n      })\r\n      .catch(error => {\r\n        setStatus('rejected');\r\n        setError(error);\r\n      });\r\n  }, [page, searchName]);\r\n\r\n  const handleClick = e => {\r\n    e.preventDefault();\r\n    setPage(prevPage => prevPage + 1);\r\n  };\r\n\r\n  const openModal = e => {\r\n    if (e.target === e.currentTarget) {\r\n      return;\r\n    }\r\n\r\n    setVisible(true);\r\n    setBigImg(e.target.dataset.source);\r\n\r\n    document.body.style.overflow = 'hidden';\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setVisible(false);\r\n    document.body.style.overflow = 'scroll';\r\n  };\r\n\r\n  if (status === 'idle') {\r\n    return <></>;\r\n  }\r\n\r\n  if (status === 'pending') {\r\n    return (\r\n      <div className={s['Loader']}>\r\n        <Loader type=\"Rings\" color=\"#00BFFF\" height={100} width={100} />;\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (status === 'rejected') {\r\n    return <h1>{error.message}</h1>;\r\n  }\r\n\r\n  if (status === 'resolved') {\r\n    return (\r\n      <>\r\n        <ul className={s['ImageGallery']} onClick={openModal}>\r\n          {pictures.map(({ id, webformatURL, largeImageURL }) => (\r\n            <li key={id} className={s['ImageGalleryItem']}>\r\n              <ImageGalleryItem\r\n                imgUrl={webformatURL}\r\n                bigImgUrl={largeImageURL}\r\n              />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <Button onClick={handleClick} />\r\n\r\n        {visible && (\r\n          <Modal onClose={closeModal}>\r\n            <button\r\n              className={s['Button']}\r\n              type=\"button\"\r\n              onClick={closeModal}\r\n            ></button>\r\n            <img src={bigImg} alt=\"\" width=\"560\" />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from 'components/Searchbar';\nimport ImageGallery from 'components/ImageGallery';\n\nfunction App() {\n  const [searchName, setSearchName] = useState('');\n\n  const handleSearchbar = searchName => {\n    setSearchName(searchName);\n  };\n\n  return (\n    <div>\n      <ToastContainer autoClose={3000} theme=\"colored\" />\n      <Searchbar onSubmit={handleSearchbar} />\n      <ImageGallery searchName={searchName} />\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2v3R-\",\"SearchForm\":\"Searchbar_SearchForm__3xfiX\",\"SearchForm-button\":\"Searchbar_SearchForm-button__24vJF\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__363j5\",\"SearchForm-input\":\"Searchbar_SearchForm-input__T_bH0\"};"],"sourceRoot":""}