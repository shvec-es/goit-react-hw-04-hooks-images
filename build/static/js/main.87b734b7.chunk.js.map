{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","services/getPictures.js","components/ImageGallery/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchName","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","warning","className","s","this","type","autoComplete","autoFocus","placeholder","onChange","Component","a","page","API_KEY","fetch","response","ok","json","Promise","reject","Error","console","log","api","fetchPictures","ImageGalleryItem","imgUrl","bigImgUrl","src","alt","Button","onClick","Modal","handleModal","code","target","onClose","window","addEventListener","removeEventListener","Overlay","children","ImageGallery","pictures","visible","bigImg","error","status","handleClick","picturesAPI","then","data","hits","openModal","dataset","source","document","body","style","overflow","closeModal","prevProps","prevState","prevSearchName","currentSearchName","length","color","height","width","message","map","id","webformatURL","largeImageURL","App","handleSearchbar","autoClose","theme","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.87b734b7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__vKe8D\",\"SearchForm\":\"Searchbar_SearchForm__3zZg7\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2jFgO\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__uyMsK\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2RH-A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3C7W1\",\"Modal\":\"Modal_Modal__2aHdR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__rEFFk\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchName: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ searchName: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { searchName } = this.state;\r\n\r\n    if (searchName.trim() === '') {\r\n      toast.warning('Enter word for search');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(searchName);\r\n    this.setState({ searchName: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s['Searchbar']}>\r\n        <form className={s['SearchForm']} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s['SearchForm-button']}>\r\n            <span className={s['SearchForm-button-label']}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s['SearchForm-input']}\r\n            type=\"text\"\r\n            value={this.state.searchName}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","async function fetchPictures(searchName, page = `1`) {\r\n  const API_KEY = `key=23963114-6d0d5d874ae460d9125bacd21`;\r\n\r\n  try {\r\n    const response = await fetch(\r\n      `https://pixabay.com/api/?q=${searchName}&page=${page}&image_type=photo&orientation=horizontal&per_page=12&${API_KEY}`,\r\n    );\r\n    if (response.ok) {\r\n      return await response.json();\r\n    }\r\n    return Promise.reject(new Error('Something wrong...'));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n}\r\n\r\nconst api = {\r\n  fetchPictures,\r\n};\r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGalleryItem = ({ imgUrl, bigImgUrl }) => {\r\n  return (\r\n    <>\r\n      <img\r\n        className={s['ImageGalleryItem-image']}\r\n        src={imgUrl}\r\n        alt=\"\"\r\n        data-source={bigImgUrl}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button className={s.Button} type=\"button\" onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleModal);\r\n  }\r\n\r\n  handleModal = e => {\r\n    if (e.code === 'Escape' || e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.handleModal}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport s from './ImageGallery.module.css';\r\nimport picturesAPI from '../../services/getPictures';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport Button from 'components/Button';\r\nimport Modal from 'components/Modal';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    pictures: [],\r\n    page: 1,\r\n    visible: false,\r\n    bigImg: '',\r\n    error: null,\r\n    status: 'idle',\r\n  };\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    const prevSearchName = prevProps.searchName;\r\n    const currentSearchName = this.props.searchName;\r\n\r\n    if (prevSearchName !== currentSearchName) {\r\n      this.setState({ status: 'pending' });\r\n      try {\r\n        const data = await picturesAPI.fetchPictures(currentSearchName);\r\n\r\n        if (data.hits.length > 0) {\r\n          this.setState({ pictures: data.hits, status: 'resolved' });\r\n        } else {\r\n          this.setState({ status: 'idle' });\r\n          toast.error('Enter correct querry');\r\n        }\r\n      } catch (error) {\r\n        this.setState({ error, status: 'rejected' });\r\n      }\r\n    }\r\n  }\r\n\r\n  handleClick = () => {\r\n    picturesAPI\r\n      .fetchPictures(this.props.searchName, this.state.page + 1)\r\n      .then(data =>\r\n        this.setState(({ page, pictures }) => ({\r\n          page: page + 1,\r\n          pictures: [...pictures, ...data.hits],\r\n        })),\r\n      );\r\n  };\r\n\r\n  openModal = e => {\r\n    if (e.target === e.currentTarget) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      visible: true,\r\n      bigImg: e.target.dataset.source,\r\n    });\r\n\r\n    document.body.style.overflow = 'hidden';\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ visible: false });\r\n    document.body.style.overflow = 'scroll';\r\n  };\r\n\r\n  render() {\r\n    const { pictures, visible, bigImg, error, status } = this.state;\r\n\r\n    if (status === 'idle') {\r\n      return <></>;\r\n    }\r\n\r\n    if (status === 'pending') {\r\n      return (\r\n        <div className={s['Loader']}>\r\n          <Loader type=\"Rings\" color=\"#00BFFF\" height={100} width={100} />;\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (status === 'rejected') {\r\n      return <h1>{error.message}</h1>;\r\n    }\r\n\r\n    if (status === 'resolved') {\r\n      return (\r\n        <>\r\n          <ul\r\n            className={s['ImageGallery']}\r\n            onClick={this.openModal}\r\n          >\r\n            {pictures.map(({ id, webformatURL, largeImageURL }) => (\r\n              <li key={id} className={s['ImageGalleryItem']}>\r\n                <ImageGalleryItem\r\n                  imgUrl={webformatURL}\r\n                  bigImgUrl={largeImageURL}\r\n                />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <Button onClick={this.handleClick} />\r\n\r\n          {visible && (\r\n            <Modal onClose={this.closeModal}>\r\n              <button\r\n                className={s['Button']}\r\n                type=\"button\"\r\n                onClick={this.closeModal}\r\n              ></button>\r\n              <img src={bigImg} alt=\"\" width=\"560\" />\r\n            </Modal>\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from 'components/Searchbar';\nimport ImageGallery from 'components/ImageGallery';\n\nclass App extends Component {\n  state = {\n    searchName: '',\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {}\n\n  handleSearchbar = searchName => {\n    this.setState({ searchName });\n  };\n\n  render() {\n    const { searchName } = this.state;\n    return (\n      <div>\n        <ToastContainer autoClose={3000} theme=\"colored\" />\n        <Searchbar onSubmit={this.handleSearchbar} />\n        <ImageGallery searchName={searchName} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__jYfP_\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__2CgaV\",\"ImageGalleryItem-image\":\"ImageGallery_ImageGalleryItem-image__3lHET\",\"Button\":\"ImageGallery_Button__1W-TU\",\"Loader\":\"ImageGallery_Loader__14ctb\"};"],"sourceRoot":""}