{"version":3,"sources":["components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.js","services/getPictures.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","LoaderRings","className","s","type","color","height","width","fetchPictures","searchName","page","API_KEY","fetch","then","response","ok","json","Promise","reject","Error","catch","err","console","log","Searchbar","onSubmit","useState","setSearchName","e","preventDefault","trim","toast","warning","value","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","ImageGalleryItem","imgUrl","bigImgUrl","src","alt","ImageGallery","pictures","onClick","map","id","webformatURL","largeImageURL","Button","Modal","bigImg","onClose","useEffect","handleModal","code","window","addEventListener","removeEventListener","Overlay","currentTarget","App","setPictures","setPage","visible","setVisible","setBigImg","error","setError","status","setStatus","data","hits","length","prevPictures","autoClose","theme","Loader","message","dataset","source","document","body","style","overflow","prevPage","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.47f085c1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2kvhd\",\"Modal\":\"Modal_Modal__3LDNJ\",\"Button\":\"Modal_Button__1pznx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2OiKn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1BF4U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2v3R-\",\"SearchForm\":\"Searchbar_SearchForm__3xfiX\",\"SearchForm-button\":\"Searchbar_SearchForm-button__24vJF\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__363j5\",\"SearchForm-input\":\"Searchbar_SearchForm-input__T_bH0\"};","import React from 'react';\r\nimport s from './Loader.module.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nfunction LoaderRings() {\r\n  return (\r\n    <div className={s['Loader']}>\r\n      <Loader type=\"Rings\" color=\"#00BFFF\" height={100} width={100} />;\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoaderRings;\r\n","function fetchPictures(searchName, page = `1`) {\r\n  const API_KEY = `key=23963114-6d0d5d874ae460d9125bacd21`;\r\n\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${searchName}&page=${page}&image_type=photo&orientation=horizontal&per_page=12&${API_KEY}`,\r\n  )\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(new Error('Something wrong...'));\r\n    })\r\n    .catch(err => console.log(err));\r\n}\r\n\r\nexport default fetchPictures;\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nfunction Searchbar({ onSubmit }) {\r\n  const [searchName, setSearchName] = useState('');\r\n\r\n  const handleChange = e => {\r\n    setSearchName(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (searchName.trim() === '') {\r\n      toast.warning('Enter word for search');\r\n      return;\r\n    }\r\n\r\n    onSubmit(searchName);\r\n    setSearchName('');\r\n  };\r\n\r\n  return (\r\n    <header className={s['Searchbar']}>\r\n      <form className={s['SearchForm']} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s['SearchForm-button']}>\r\n          <span className={s['SearchForm-button-label']}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s['SearchForm-input']}\r\n          type=\"text\"\r\n          value={searchName}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  searchName: PropTypes.string,\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGalleryItem = ({ imgUrl, bigImgUrl }) => {\r\n  return (\r\n    <>\r\n      <img\r\n        className={s['ImageGalleryItem-image']}\r\n        src={imgUrl}\r\n        alt=\"\"\r\n        data-source={bigImgUrl}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imgUrl: PropTypes.string,\r\n  bigImgUrl: PropTypes.string,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\n\r\nfunction ImageGallery({ pictures, onClick }) {\r\n  return (\r\n    <>\r\n      <ul className={s['ImageGallery']} onClick={onClick}>\r\n        {pictures.map(({ id, webformatURL, largeImageURL }) => (\r\n          <li key={id} className={s['ImageGalleryItem']}>\r\n            <ImageGalleryItem imgUrl={webformatURL} bigImgUrl={largeImageURL} />\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ),\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button className={s.Button} type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Modal.module.css';\r\n\r\nfunction Modal({ bigImg, onClose }) {\r\n  useEffect(() => {\r\n    const handleModal = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleModal);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleModal);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={s.Overlay} onClick={handleBackdropClick}>\r\n      <div className={s.Modal}>\r\n        <button className={s.Button} type=\"button\" onClick={onClose}></button>\r\n        <img src={bigImg} alt=\"\" width=\"560\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  bigImg: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport default Modal;\r\n","import { useState, useEffect } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport LoaderRings from 'components/Loader/Loader';\r\n\r\nimport fetchPictures from './services/getPictures';\r\nimport Searchbar from 'components/Searchbar';\r\nimport ImageGallery from 'components/ImageGallery';\r\nimport Button from 'components/Button';\r\nimport Modal from 'components/Modal';\r\n\r\nfunction App() {\r\n  const [searchName, setSearchName] = useState('');\r\n  const [pictures, setPictures] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [visible, setVisible] = useState(false);\r\n  const [bigImg, setBigImg] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState('idle');\r\n\r\n  useEffect(() => {\r\n    if (searchName === '') {\r\n      return;\r\n    }\r\n\r\n    setStatus('pending');\r\n\r\n    fetchPictures(searchName, page)\r\n      .then(data => {\r\n        if (data.hits.length > 0) {\r\n          setStatus('resolved');\r\n          setPictures(prevPictures => [...prevPictures, ...data.hits]);\r\n        } else {\r\n          setStatus('idle');\r\n          toast.error('Enter correct querry');\r\n        }\r\n      })\r\n      .catch(error => {\r\n        setStatus('rejected');\r\n        setError(error);\r\n      });\r\n  }, [page, searchName]);\r\n\r\n  const handleSearchbar = searchName => {\r\n    setSearchName(searchName);\r\n    setStatus('pending');\r\n    setPictures([]);\r\n    setPage(1);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setStatus('pending');\r\n    setPage(prevPage => prevPage + 1);\r\n  };\r\n\r\n  const openModal = e => {\r\n    if (e.target === e.currentTarget) {\r\n      return;\r\n    }\r\n\r\n    setVisible(true);\r\n    setBigImg(e.target.dataset.source);\r\n\r\n    document.body.style.overflow = 'hidden';\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setVisible(false);\r\n    document.body.style.overflow = 'scroll';\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ToastContainer autoClose={3000} theme=\"colored\" />\r\n      <Searchbar onSubmit={handleSearchbar} />\r\n      {status === 'pending' && <LoaderRings />}\r\n      {status === 'rejected' && <h1>{error.message}</h1>}\r\n      {status === 'resolved' && (\r\n        <>\r\n          <ImageGallery pictures={pictures} onClick={openModal} />\r\n          <Button onClick={handleClick} />\r\n        </>\r\n      )}\r\n      {visible && <Modal bigImg={bigImg} onClose={closeModal} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1FpA0\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__3zoih\",\"ImageGalleryItem-image\":\"ImageGallery_ImageGalleryItem-image__223-B\"};"],"sourceRoot":""}